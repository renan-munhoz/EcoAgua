<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<body>
  <div id="conteudo">
    <div id="topo">
      <h1>Eco Agua</h1>
      <p>bla bla bla...</p>
    </div>
  
    <div id="forms">
      <div *ngFor="let fonte of fontesConsumo; let i = index" id="linha">
        <button mat-fab color="warn" (click)="removerFonte(i)" class="delete"> <mat-icon>highlight_remove</mat-icon> </button>

          <mat-form-field id="fontes" class="inputs">
            <mat-label>Fonte de Consumo</mat-label>
            <mat-select [(ngModel)]="fonte.fonte" class="mat-select-panel">
              <mat-optgroup *ngFor="let categoria of categoriasFonte" [label]="categoria.categoria">
                <mat-option *ngFor="let opcao of categoria.opcoes" [value]="opcao.value">
                  {{ opcao.label }}
                </mat-option>
              </mat-optgroup>
            </mat-select>
          </mat-form-field>

          <mat-form-field id="modificador_semana" class="inputs">
            <mat-label>vezes por Semana</mat-label>
            <mat-select [(ngModel)]="fonte.consumoSemanal" class="mat-select-panel">
              <mat-option *ngFor="let opcao of opcoesmodificador" [value]="opcao.value">
                {{ opcao.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field id="tempo" class="inputs">
            <mat-label>tempo diario de uso</mat-label>
            <input matInput type="number" min="1" [(ngModel)]="fonte.tempo" placeholder="1" class="direita"
            [disabled]="(fonte.fonte === 'banho_banheira' || fonte.fonte === 'escovar_dentes' || fonte.fonte === 'vaso_sanitario' || fonte.fonte === 'lavar_loucas_maquina' || fonte.fonte === 'lavar_quintal_balde')">
            <span matTextSuffix> min </span>
            <mat-hint>Maquinas s√£o contadas por ciclos ^</mat-hint>
          </mat-form-field>

          <mat-form-field id="quantidade" class="inputs">
            <mat-label>quantidade por dia usado</mat-label>
            <input matInput type="number" min="1" [(ngModel)]="fonte.modificador" placeholder="1" class="direita">
            <span matTextSuffix> vez(es) </span>
          </mat-form-field>

          <mat-form-field id="consumo-dia" class="inputs">
            <mat-label>consumo diario em litros</mat-label>
            <input matInput readonly [(ngModel)]="fonte.consumo" class="direita">
            <span matTextSuffix> L</span>
          </mat-form-field>

          <mat-form-field id="consumo-mes" class="inputs">
            <mat-label>consumo mensal em litros</mat-label>
            <input matInput readonly [(ngModel)]="fonte.consumoMensal" class="direita">
            <span matTextSuffix> L</span>
          </mat-form-field>
      </div>
    </div>

    <div id="baixo">
    <div id="botoes">
      <button mat-flat-button (click)="adicionarFonte()">Adicionar Fonte</button>
      <button mat-flat-button id="calcular" (click)="calcular()"> Calcular </button>
    </div>

      <div>
        <mat-form-field id="consumo-mes" class="inputs">
        <mat-label>Total por Mes</mat-label>
        <input matInput readonly [(ngModel)]="total" class="direita"> 
        <span matTextSuffix> L</span>
      </mat-form-field>
      </div>
  </div>
  </div>
  
</body>
</html>
